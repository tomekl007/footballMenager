<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    template="/template.xhtml"
    xmlns:util="http://java.sun.com/jsf/composite/components"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
<!--Page for the main screen content.-->

    <ui:define name="title">
        Home
    </ui:define>

    <ui:define name="body">
        <h:form>
            <h2>#{bundle.Welcome_Msg}</h2> <br />
            <!--The choose tag performs conditional block execution by the embedded when subtags. 
            It renders the body of the first when tag whose test condition evaluates to true. 
            If none of the test conditions of nested when tags evaluates to true, then the body of an otherwise tag is evaluated, if present.-->
            <c:choose id="wlcmsg">
                
                <c:when test="#{userController.authenticatedUser != null}">
                    
                    <c:when test ="#{userController.authenticatedUser.ownedTeam != null} ">
                        <h4>#{bundle.Welcome_Logged_User}</h4>
                       
                    </c:when>
                    
                    <c:otherwise>
                      <h4>#{bundle.DontHaveTeam} <h:commandLink action="team/select.xhtml" value="#{bundle.Select_Team}" /></h4> 
                    </c:otherwise>
                    
                </c:when>              
                
                <c:otherwise>
                    <h4>#{bundle.Welcome_Signup_Phrase} <h:commandLink action="customer/Create.xhtml" value="#{bundle.Welcome_Signup_Button}" /></h4>                
                </c:otherwise>
                
            </c:choose>
            <br />
        </h:form>
    </ui:define> 

</ui:composition>
